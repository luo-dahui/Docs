<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Migration tutorial · PlatON</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="### Introduction"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Migration tutorial · PlatON"/><meta property="og:type" content="website"/><meta property="og:url" content="https://luo-dahui.github.io//docs/"/><meta property="og:description" content="### Introduction"/><meta property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script><script type="text/javascript" src="/docs/js/custom.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="https://www.platon.network/?lang=en"><img class="logo" src="/docs/img/PlatON-logo.svg" alt="PlatON"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/zh-CN/Solidity_Contract_Migrate">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Solidity contract</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Overview<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Basics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/lat_introduced">Intro to LAT</a></li><li class="navListItem"><a class="navItem" href="/docs/en/staking_and_delegation">Staking&amp;Delegation</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Network_Description">Networks</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Overall_Solution">Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Economic_Model">Economic model</a></li><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Solution">Consensus mechanism</a></li><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Governance_Solution">Governance mechanism</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Wasm_Operation_Principle">WebAssembly(Wasm)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON Node<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Validation_Introduce">Intro to validator</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Become_PlatON_Main_Verification">Run a validator node</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tools for nodes</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/OnLine_MTool_Manual">MTool online tutorial</a></li><li class="navListItem"><a class="navItem" href="/docs/en/OffLine_MTool_Manual">MTool offline tutorial</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Command_Line_Tools">Command line tools</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Developers<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_Overview_DevGuide">Development guide</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Set up local environment</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/Join_Dev_Network">Dev Network</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Build_Private_Chain">Private Network</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Smart contract</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_system_contract">System contracts</a></li></ul></div><div class="navGroup subNavGroup sonNavGroup"><h4 class="navGroupSubcategoryTitle sonNavTitle">Solidity contract</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/Solidity_Dev_Manual">Getting started</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/Solidity_Contract_Migrate">Migration tutorial</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Solidity_Contract_Dev_Costs">Development costs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Solidity_Contract_Best_Practice">Best practices</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Solidity_Contract_Security_Dev_Guide">Contract security</a></li></ul></div><div class="navGroup subNavGroup sonNavGroup"><h4 class="navGroupSubcategoryTitle sonNavTitle">Wasm contract</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/Wasm_Dev_Manual">Getting started</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Wasm_Contract_Dev_Costs">Development Costs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Wasm_Contract_Best_Practice">Best practices</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Wasm_Contract_API">Wasm API</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">References</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/Python_SDK">Python SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/JS_SDK">JS SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Java_SDK">Java SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Json_Rpc">JSON-RPC</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Samurai_API">Samurai API</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/en/Standard">PRC Token</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Data and analytics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/PlatON_BlockChain_Browser">PlatScan</a></li><li class="navListItem"><a class="navItem" href="/docs/en/PlatEye">PlatEye</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Wallet<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/ATON-user-manual">ATON Wallet</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Samurai_user_manual">Samurai</a></li><li class="navListItem"><a class="navItem" href="/docs/en/Third_Party_Walle">Third-party wallets</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">community<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/community">Community Projects</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/PlatONnetwork/docs/tree/master/docs/solidity合约迁移教程.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Migration tutorial</h1></header><article><div><span><h3><a class="anchor" aria-hidden="true" id="introduction"></a><a href="#introduction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h3>
<p>The highest solidity version number supported by PlatON is 0.5.13. If you migrate contracts with versions above 0.5.13, you need to lower the version number and remove the syntax related to the higher version.</p>
<p>If you want to migrate Ethereum's smart contract to PlatON, you can do this with the <code>platon-truffle</code> development tool. First, to make sure have <code>platon-truffle</code> installed correctly, just follow these steps.</p>
<p>The migration of Ethereum's ERC200513Token contract to PlatON is demonstrated below, <code>ERC200513Token.sol</code> contract are as follows:</p>
<pre><code class="hljs">pragma solidity <span class="hljs-number">0.5</span><span class="hljs-number">.13</span>;

contract ERC200513Token {
    string <span class="hljs-keyword">public</span> name; 
    string <span class="hljs-keyword">public</span> symbol; 
    uint8 <span class="hljs-keyword">public</span> decimals = <span class="hljs-number">18</span>;  <span class="hljs-comment">//18 decimals is the strongly suggested default, avoid changing it</span>
    uint256 <span class="hljs-keyword">public</span> totalSupply = <span class="hljs-number">10000000000000000000</span> ether; 

    <span class="hljs-comment">// This creates an array with all balances</span>
    mapping(address =&gt; uint256) <span class="hljs-keyword">public</span> balanceOf;
    mapping(address =&gt; mapping(address =&gt; uint256)) <span class="hljs-keyword">public</span> allowance;

    <span class="hljs-comment">//This generates a public event on the blockchain that will notify clients</span>
    event Transfer(address indexed from, address indexed to, uint256 value);

    <span class="hljs-comment">// This notifies clients about the amount burnt</span>
    event Burn(address indexed from, uint256 value);

    <span class="hljs-comment">/**
     * Constructor function
     */</span>
    constructor(uint256 initialSupply, string memory tokenName, string memory tokenSymbol) <span class="hljs-keyword">public</span> {
        totalSupply = initialSupply * <span class="hljs-number">10</span> ** uint256(decimals); <span class="hljs-comment">// Update total supply with the decimal amount</span>
        balanceOf[msg.sender] = totalSupply; <span class="hljs-comment">// Give the creator all initial tokens</span>
        name = tokenName; <span class="hljs-comment">// Set the name for display purposes    </span>
        symbol = tokenSymbol; 
    }
    <span class="hljs-comment">/**
     * get the name for display purposes
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span> <span class="hljs-title">view</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(string memory)</span></span>{
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-comment">/**
     * get token symbol
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSymbol</span><span class="hljs-params">()</span> <span class="hljs-title">view</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(string memory)</span></span>{
        <span class="hljs-keyword">return</span> symbol;
    }
 
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDecimals</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint8)</span></span>{
        <span class="hljs-keyword">return</span> decimals;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTotalSupply</span><span class="hljs-params">()</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint256 theTotalSupply)</span> </span>{
        theTotalSupply = totalSupply;
        <span class="hljs-keyword">return</span> theTotalSupply;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBalanceOf</span><span class="hljs-params">(address _owner)</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint256 balance)</span> </span>{
        <span class="hljs-comment">//get _owner's balance</span>
        <span class="hljs-keyword">return</span> balanceOf[_owner];
    }
    <span class="hljs-comment">/**
     * Transfer tokens from other address
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_transfer</span><span class="hljs-params">(address _from, address _to, uint _value)</span> <span class="hljs-title">internal</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span></span>{
        <span class="hljs-comment">// Make sure the destination address is not 0x0, Because address 0x0 represents destruction</span>
        <span class="hljs-keyword">require</span>(_to != address(<span class="hljs-number">0x0</span>));
        <span class="hljs-comment">// Check the sender balance</span>
        <span class="hljs-keyword">require</span>(balanceOf[_from] &gt;= _value);
        <span class="hljs-comment">// Make sure _value&gt;0</span>
        <span class="hljs-keyword">require</span>(balanceOf[_to] + _value &gt; balanceOf[_to]);

        <span class="hljs-keyword">uint</span> previousBalances = balanceOf[_from] + balanceOf[_to];
        <span class="hljs-comment">// Subtract from the sender</span>
        balanceOf[_from] -= _value;
        <span class="hljs-comment">// Add the same to the recipient</span>
        balanceOf[_to] += _value;
        emit Transfer(_from, _to, _value);

        <span class="hljs-keyword">return</span> (balanceOf[_from] + balanceOf[_to] == previousBalances);
    }

    <span class="hljs-comment">/**
     *  Transfer tokens from other address
     *
     *  Send `_value` tokens to `_to` on behalf of `_from`
     *
     * <span class="hljs-doctag">@param</span> _to The address of the recipient
     * <span class="hljs-doctag">@param</span> _value the amount to send
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transfer</span><span class="hljs-params">(address _to, uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span></span>{
        <span class="hljs-keyword">return</span> _transfer(msg.sender, _to, _value);
    }

    <span class="hljs-comment">/**
     * Transfer tokens from other address
     *
     * <span class="hljs-doctag">@param</span> _from The address of the sender
     * <span class="hljs-doctag">@param</span> _to The address of the recipient
     * <span class="hljs-doctag">@param</span> _value the amount to send
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transferFrom</span><span class="hljs-params">(address _from, address _to, uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        <span class="hljs-keyword">require</span>(_value &lt;= allowance[_from][msg.sender]);
        <span class="hljs-comment">// Check allowance</span>
        allowance[_from][msg.sender] -= _value;
        _transfer(_from, _to, _value);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-comment">/**
     * Set allowance for other address
     *
     * Allows `_spender` to spend no more than `_value` tokens on your behalf
     * 
     * <span class="hljs-doctag">@param</span> _spender The address authorized to spend
     * <span class="hljs-doctag">@param</span> _value the max amount they can spend
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">approve</span><span class="hljs-params">(address _spender, uint256 _value)</span> <span class="hljs-title">public</span>
    <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        allowance[msg.sender][_spender] = _value;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }


    <span class="hljs-comment">/**
     *
     * Gets the remaining number of tokens that _spender can issue from account _owner
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAllowance</span><span class="hljs-params">(address _owner, address _spender)</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(uint remaining)</span></span>{
        <span class="hljs-keyword">return</span> allowance[_owner][_spender];
    }

    <span class="hljs-comment">/**
     * Destroy tokens
     *
     * Remove `_value` tokens from the system irreversibly
     *
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">burn</span><span class="hljs-params">(uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        <span class="hljs-keyword">require</span>(balanceOf[msg.sender] &gt;= _value);
        <span class="hljs-comment">// Check if the sender has enough</span>
        balanceOf[msg.sender] -= _value;
        <span class="hljs-comment">// Subtract from the sender</span>
        totalSupply -= _value;
        <span class="hljs-comment">// Updates totalSupply</span>
        emit Burn(msg.sender, _value);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-comment">/**
     * Destroy tokens from other account
     *
     * Remove `_value` tokens from the system irreversibly on behalf of `_from`.
     *
     * <span class="hljs-doctag">@param</span> _from the address of the sender
     * <span class="hljs-doctag">@param</span> _value the amount of money to burn
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">burnFrom</span><span class="hljs-params">(address _from, uint256 _value)</span> <span class="hljs-title">public</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool success)</span> </span>{
        <span class="hljs-keyword">require</span>(balanceOf[_from] &gt;= _value);
        <span class="hljs-comment">// Check if the targeted balance is enough</span>
        <span class="hljs-keyword">require</span>(_value &lt;= allowance[_from][msg.sender]);
        <span class="hljs-comment">// Check allowance</span>
        balanceOf[_from] -= _value;
        <span class="hljs-comment">// Subtract from the targeted balance</span>
        allowance[_from][msg.sender] -= _value;
        <span class="hljs-comment">// Subtract from the sender's allowance</span>
        totalSupply -= _value;
        <span class="hljs-comment">// Update totalSupply</span>
        emit Burn(_from, _value);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="operation-procedure"></a><a href="#operation-procedure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation Procedure</h3>
<p><strong>Step1.</strong> Create new directory for example project</p>
<pre><code class="hljs"><span class="hljs-built_in">mkdir</span> <span class="hljs-built_in">example</span> &amp;&amp; cd <span class="hljs-built_in">example</span>
</code></pre>
<blockquote>
<p>After the command is executed,project directory structure is as follows:</p>
</blockquote>
<p><strong>Step2.</strong>  Init project</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle init</span>
</code></pre>
<p>After the command is executed,project directory structure is as follows:</p>
<ul>
<li><p><code>contracts/</code>: solidity contract directory</p></li>
<li><p><code>migrations/</code>: depoly file directory</p></li>
<li><p><code>test/</code>: test script directory</p></li>
<li><p><code>truffle-config.js</code>: platon-truffle config</p></li>
</ul>
<p><strong>Step3.</strong> Move ERC200513Token contract compiled in to example/contracts</p>
<pre><code class="hljs"><span class="hljs-keyword">ls</span> contracts/
</code></pre>
<ul>
<li>ERC200513Token.sol</li>
<li>PlatON's smart contract unit is LAT, VON. To migrate the Ethereum smart contract to PlatON,please change the Ethereum denomination to PlatON denomination.also note the ether /LAT market rate（for this contract, we assume the market exchange rate1:1,uint256 public totalSupply = 10000000000000000000 ether; change to uint256 public totalSupply = 10000000000000000000 LAT;）</li>
<li>PlatON's smart contract block.timestamp is current block timestamp as milliseconds since unix epoch, and Ethereum smart contract is seconds.</li>
</ul>
<p><strong>Step4.</strong> Modify the compilation version number and chain-dependent configuration in truffle-config.js</p>
<pre><code class="hljs">module.exports = {
<span class="hljs-symbol">  networks:</span> {
<span class="hljs-symbol">     development:</span> {
<span class="hljs-symbol">      host:</span> <span class="hljs-string">"10.1.1.6"</span>,     <span class="hljs-comment">// chain address</span>
<span class="hljs-symbol">      port:</span> <span class="hljs-number">8806</span>,            <span class="hljs-comment">// chain rpc port</span>
<span class="hljs-symbol">      network_id:</span> <span class="hljs-string">"*"</span>,       <span class="hljs-comment">// Any network (default: none)</span>
<span class="hljs-symbol">      from:</span> <span class="hljs-string">"lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl"</span>, <span class="hljs-comment">// the wallet address of deployment contract </span>
<span class="hljs-symbol">      gas:</span> <span class="hljs-number">999999</span>,
<span class="hljs-symbol">      gasPrice:</span> <span class="hljs-number">50000000004</span>,         
     },
  },
<span class="hljs-symbol">
  compilers:</span> {
<span class="hljs-symbol">    solc:</span> {
<span class="hljs-symbol">       version:</span> <span class="hljs-string">"0.5.13"</span>,    <span class="hljs-comment">// the version number used in compiling the contract is the same as the contract definition</span>
<span class="hljs-symbol">       docker:</span> false,        <span class="hljs-comment">// Use "0.5.1" you've installed locally with docker</span>
    }
  }
}
</code></pre>
<p><strong>Step5.</strong> Compile contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle compile</span>
</code></pre>
<p>The following is the output of the successful compilation：</p>
<pre><code class="hljs">Compiling your contracts...
Compiling ./contracts/<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ERC200513Token</span>.</span></span>sol
Compiling ./contracts/<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Migrations</span>.</span></span>sol
  compilation warnings encountered:

Warning: This is a pre-release compiler version, please <span class="hljs-keyword">do</span> not use it <span class="hljs-keyword">in</span> production.
Artifacts written <span class="hljs-keyword">to</span> /home/guest/example/build/contracts
Compiled successfully using: 
  solc: <span class="hljs-number">0.5</span>.<span class="hljs-number">13</span>-develop.<span class="hljs-number">2020.1</span>.<span class="hljs-number">2</span>+commit.<span class="hljs-number">9</span>ff23752.<span class="hljs-keyword">mod</span>.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Emscripten</span>.</span></span>clang
</code></pre>
<p><strong>Step6.</strong> Create deploy script</p>
<pre><code class="hljs">cd migrations &amp;&amp; <span class="hljs-section">touch</span> <span class="hljs-number">2</span>_initial_ERC200513Token.js
</code></pre>
<p>Deploy script 2_initial_ERC200513Token.js content is as follows：</p>
<pre><code class="hljs"><span class="hljs-keyword">const</span> ERC200513Token = artifacts.require(<span class="hljs-string">"ERC200513Token"</span>); <span class="hljs-comment">//contract class name</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">deployer</span>) </span>{
  deployer.deploy(ERC200513Token,<span class="hljs-number">100</span>,<span class="hljs-string">'PLA'</span>,<span class="hljs-string">'PLAT'</span>); <span class="hljs-comment">//ERC200513Token abstract and constructor params</span>
};  
</code></pre>
<p><strong>Step7.</strong> Deploy contract</p>
<pre><code class="hljs"><span class="hljs-attribute">platon-truffle migrate</span>
</code></pre>
<p>After deploying successfully, you will see log info as follows:</p>
<pre><code class="hljs"><span class="hljs-string">Compiling</span> <span class="hljs-string">your</span> <span class="hljs-string">contracts...</span>
<span class="hljs-string">Everything</span> <span class="hljs-string">is</span> <span class="hljs-string">up</span> <span class="hljs-string">to</span> <span class="hljs-string">date,</span> <span class="hljs-string">there</span> <span class="hljs-string">is</span> <span class="hljs-string">nothing</span> <span class="hljs-string">to</span> <span class="hljs-string">compile.</span>
<span class="hljs-string">2_initial_ERC200513Token.js</span>
   <span class="hljs-string">Deploying</span> <span class="hljs-string">'ERC200513Token'</span>
     <span class="hljs-attr">transaction hash:</span>    <span class="hljs-number">0xa1770aecf4cffb0e75a172e06e75a9e9cb2d36bf89291b57d504e8c054985e99</span>
     <span class="hljs-attr">Blocks: 0            Seconds:</span> <span class="hljs-number">0</span>
     <span class="hljs-attr">contract address:</span>    <span class="hljs-string">lax1uetshtp4tp6l067tl02e4x435py9ajrfdhsrd4//new</span> <span class="hljs-string">contract</span> <span class="hljs-string">address</span>
     <span class="hljs-attr">block number:</span>        <span class="hljs-number">265657</span>
     <span class="hljs-attr">block timestamp:</span>     <span class="hljs-number">1581742216965</span>
     <span class="hljs-attr">account:</span>             <span class="hljs-string">lax1uqug0zq7rcxddndleq4ux2ft3tv6dqljphydrl</span>
     <span class="hljs-attr">balance:</span>             <span class="hljs-number">90000000.826385379994114416</span>
     <span class="hljs-attr">gas used:</span>            <span class="hljs-number">638876</span>
     <span class="hljs-attr">gas price:</span>           <span class="hljs-number">50.000000004</span> <span class="hljs-string">gVON</span>
     <span class="hljs-attr">value sent:</span>          <span class="hljs-number">0</span> <span class="hljs-string">LAT</span>
     <span class="hljs-attr">total cost:</span>          <span class="hljs-number">0.031943800002555504</span> <span class="hljs-string">LAT</span>
     <span class="hljs-string">Saving</span> <span class="hljs-string">migration</span> <span class="hljs-string">to</span> <span class="hljs-string">chain.</span>
     <span class="hljs-string">Saving</span> <span class="hljs-string">artifacts</span>
     <span class="hljs-attr">Total cost:</span>     <span class="hljs-number">0.031943800002555504</span> <span class="hljs-string">LAT</span>
<span class="hljs-string">Summary</span>
 <span class="hljs-attr">Total deployments:</span>   <span class="hljs-number">2</span>
 <span class="hljs-attr">Final cost:</span>          <span class="hljs-number">0.037844150003027532</span> <span class="hljs-string">LAT</span>
</code></pre>
<hr>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/Solidity_Dev_Manual"><span class="arrow-prev">← </span><span>Getting started</span></a><a class="docs-next button" href="/docs/en/Solidity_Contract_Dev_Costs"><span>Development costs</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.platon.network/en" class="nav-home"><img src="/docs/img/PlatON-logo2.svg" alt="PlatON" width="66" height="58"/></a><div><a href="https://www.platon.network/en">PlatON network</a><a href="https://latticex.foundation/home">Lattice.Foundation</a><a href="https://forum.latticex.foundation/">Forum</a></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></section><section class="copyright">COPYRIGHT  © 2021 PLATON NETWORK.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c2ce4863993980eb049b661be250c773',
                indexName: 'platon',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>