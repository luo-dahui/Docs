<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>合约API · PlatON</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## API"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="合约API · PlatON"/><meta property="og:type" content="website"/><meta property="og:url" content="https://luo-dahui.github.io//docs/"/><meta property="og:description" content="## API"/><meta property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script><script type="text/javascript" src="/docs/js/custom.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="https://www.platon.network/?lang=zh"><img class="logo" src="/docs/img/PlatON-logo.svg" alt="PlatON"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/Wasm_Contract_API">English</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Wasm合约</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">概述<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/">概述</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">初步了解<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/lat_introduced">什么是LAT</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/staking_and_delegation">质押&amp;委托</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Network_Description">网络说明</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">进阶了解<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Overall_Solution">总体架构</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Economic_Model">经济模型</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Solution">共识机制</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Governance_Solution">治理机制</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Operation_Principle">Wasm虚拟机</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON节点<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Validation_Introduce">验证节点介绍</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Become_PlatON_Main_Verification">成为主网验证节点</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">节点工具</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/OnLine_MTool_Manual">MTool在线教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/OffLine_MTool_Manual">MTool离线教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Command_Line_Tools">命令行工具</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">开发者<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Overview_DevGuide">开发指南</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">设置开发环境</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Become_PlatON_Dev_Verification">加入开发网</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Build_Private_Chain">部署私有网络</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">智能合约</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_system_contract">系统合约</a></li></ul></div><div class="navGroup subNavGroup sonNavGroup"><h4 class="navGroupSubcategoryTitle sonNavTitle">Solidity合约</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Dev_Manual">入门手册</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Migrate">合约迁移教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Dev_Costs">合约开发成本</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Best_Practice">合约开发最佳实践</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Security_Dev_Guide">合约安全开发指南</a></li></ul></div><div class="navGroup subNavGroup sonNavGroup"><h4 class="navGroupSubcategoryTitle sonNavTitle">Wasm合约</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Dev_Manual">入门手册</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Contract_Dev_Costs">合约开发成本</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Contract_Best_Practice">合约开发最佳实践</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/Wasm_Contract_API">合约API</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API参考</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Python_SDK">Python SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/JS_SDK">JS SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Java_SDK">Java SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Json_Rpc">JSON-RPC</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">数据分析<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_BlockChain_Browser">PlatScan</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatEye">PlatEye</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">钱包<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/ATON-user-manual">ATON钱包</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Samurai">Samurai</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Third_Party_Walle">第三方钱包</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">community<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/community">社区项目</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">合约API</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="api"></a><a href="#api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h2>
<h3><a class="anchor" aria-hidden="true" id="区块api"></a><a href="#区块api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>区块Api</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_block_hash"></a><a href="#platon_block_hash" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_block_hash()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">h256 <span class="hljs-title">platon::platon_block_hash</span><span class="hljs-params">(<span class="hljs-keyword">int64_t</span> num)</span>
</span></code></pre>
<p>根据区块高度获取区块哈希。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>num：</code>块的高度</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>哈希值</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_block_number"></a><a href="#platon_block_number" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_block_number()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_block_number</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取当前块的高度。</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>当前块的高度</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_coinbase"></a><a href="#platon_coinbase" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_coinbase()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_coinbase</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取矿工节点的哈希值。</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>矿工节点的哈希</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_unix_timestamp"></a><a href="#platon_unix_timestamp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_unix_timestamp()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">int64_t</span> <span class="hljs-title">platon::platon_unix_timestamp</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取当前块的Unix时间戳。</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>当前块的Unix时间戳（秒）</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_gas_limit"></a><a href="#platon_gas_limit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_gas_limit()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_gas_limit</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取当前区块的 gas limit</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>当前区块的 gas limit</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="交易api"></a><a href="#交易api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>交易API</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_gas_price"></a><a href="#platon_gas_price" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_gas_price()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">u128 <span class="hljs-title">platon::platon_gas_price</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取交易的 gas price.</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>交易的 gas price</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_gas"></a><a href="#platon_gas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_gas()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_gas</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取交易的 gas 值</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>交易的 gas 值</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_caller_nonce"></a><a href="#platon_caller_nonce" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_caller_nonce</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">platon_caller_nonce</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取交易的 nonce 值</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>交易的 nonce 值</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_call_value"></a><a href="#platon_call_value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_call_value()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">u128 <span class="hljs-title">platon::platon_call_value</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取当前交易的 value 值。</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>当前交易的 value 值</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_caller"></a><a href="#platon_caller" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_caller()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_caller</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取交易的发起者</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>交易发起者地址</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_origin"></a><a href="#platon_origin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_origin()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_origin</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取交易的原始发起者</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>交易原始发起者的地址</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_address"></a><a href="#platon_address" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_address()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Address <span class="hljs-title">platon::platon_address</span><span class="hljs-params">()</span>
</span></code></pre>
<p>获取交易的合约地址</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>合约地址</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="帐户api"></a><a href="#帐户api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>帐户Api</h3>
<h4><a class="anchor" aria-hidden="true" id="make_address-12"></a><a href="#make_address-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>make_address() 1/2</h4>
<pre><code class="hljs css language-cpp">template &lt;size_t M&gt; std::pair&lt;Address, bool&gt; make_address(const char (&amp;str)[M])
</code></pre>
<p>CDT 默认识别的地址是主网地址也就是地址前缀为lat，如果要识别测试网地址前缀为lax，需要定义宏TESTNET，在合约第一行加上#define TESTNET即可。</p>
<p>将C风格字符串转换为地址对象。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>str：</code> C风格字符串</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>返回值为 pair，pair 的 second 表示成功或者失败，first 表示 Address 类型的地址。</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="make_address-22"></a><a href="#make_address-22" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>make_address() 2/2</h4>
<pre><code class="hljs css language-cpp">std::pair&lt;Address, bool&gt; make_address(const std::string &amp;str_address)
</code></pre>
<p>CDT 默认识别的地址是主网地址也就是地址前缀为lat，如果要识别测试网地址前缀为lax，需要定义宏TESTNET，在合约第一行加上#define TESTNET即可。</p>
<p>将字符串转换为地址对象。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>str：</code> 字符串</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>返回值为 pair，pair 的 second 表示成功或者失败，first 表示 Address 类型的地址</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_balance"></a><a href="#platon_balance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_balance()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">Energon <span class="hljs-title">platon::platon_balance</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp; addr)</span>
</span></code></pre>
<p>根据地址获取余额。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>地址</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>地址余额</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_transfer"></a><a href="#platon_transfer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_transfer()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">platon::platon_transfer</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp;addr, <span class="hljs-keyword">const</span> Energon &amp;amount)</span>
</span></code></pre>
<p>将Energon的金额转移到地址。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>帐户地址</li>
<li><code>amount：</code>Energon的数量</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>如果传输成功则为true，否则为false</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platonenergon-class"></a><a href="#platonenergon-class" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::Energon Class</h4>
<p>Energo是货币相关操作类</p>
<ul>
<li><p><strong>公共成员函数</strong></p>
<ul>
<li><p><code>Energon (u128 n)</code>
构造一个新的Energon。</p></li>
<li><p><code>const u128 Get () const</code>
获得一定量的Von。</p></li>
<li><p><code>const bytes Bytes () const</code>
获取值的字节，字节使用大端表示。</p></li>
<li><p><code>Energon &amp; Add (const u128 &amp;v)</code>
添加量的 Von。</p></li>
<li><p><code>Energon &amp; Add (const Energon &amp;rhs)</code>
两个 Energon 对象相加</p></li>
<li><p><code>Energon &amp; operator+= (const Energon &amp;rhs)</code>
实现运算符+ =</p></li>
</ul></li>
<li><p><strong>构造函数和析构函数</strong></p>
<ul>
<li><code>platon::Energon::Energon(u128 n)</code>
构造一个新的Energon。
<ul>
<li><strong>参数</strong>
<ul>
<li><code>n：</code> Von 数量</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>成员函数功能</strong></p>
<ul>
<li><p><code>Energon&amp; platon::Energon::Add(const Energon &amp; rhs)</code>
添加量的Von。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>rhs：</code>Von的数量</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>Energon的引用</li>
</ul></li>
</ul></li>
<li><p><code>Energon&amp; platon::Energon::Add(const u128 &amp; v)</code>
添加量的Von。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>v：</code>Von的数量</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>Energon的引用</li>
</ul></li>
</ul></li>
<li><p><code>const bytes platon::Energon::Bytes() const</code>
获取值的字节，字节使用大端表示。</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>值的字节</li>
</ul></li>
</ul></li>
<li><p><code>const u128 platon::Energon::Get() const</code>
获得一定量的Von。</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>Von量</li>
</ul></li>
</ul></li>
<li><p><code>Energon&amp; platon::Energon::operator+= ( const Energon &amp; rhs)</code>
实现运算符+ =</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>rhs：</code>Energon对象</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>Energon的引用</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platonwhitelist-tablename--class"></a><a href="#platonwhitelist-tablename--class" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::WhiteList&lt; TableName &gt; Class</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw TableName&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:WhiteList&lt; TableName &gt;
</code></pre>
<p>持久存储白名单工具。</p>
<ul>
<li><p><strong>模板参数</strong></p>
<ul>
<li><code>Name：</code>白名单名称，在同一合约中，该名称应唯一</li>
</ul></li>
<li><p><strong>构造函数和析构函数</strong></p>
<ul>
<li><code>template&lt;Name::Raw TableName&gt; platon::WhiteList&lt; TableName &gt;::WhiteList ()</code></li>
</ul></li>
</ul>
<p>构造一个新的清单。</p>
<ul>
<li><p><strong>公共成员函数</strong></p>
<ul>
<li><p><code>WhiteList ()</code>
构造一个新的清单。</p></li>
<li><p><code>void Add (const std::string &amp;addr)</code>
将地址添加到白名单。</p></li>
<li><p><code>void Add (const Address &amp;addr)</code>
将地址添加到白名单。</p></li>
<li><p><code>void Delete (const std::string &amp;addr)</code>
从白名单中删除地址。</p></li>
<li><p><code>void Delete (const Address &amp;addr)</code>
从白名单中删除地址。</p></li>
<li><p><code>bool Exists (const std::string &amp;addr)</code>
该地址是否存在于白名单中。</p></li>
<li><p><code>bool Exists (const Address &amp;addr)</code>
该地址是否存在于白名单中。</p></li>
</ul></li>
<li><p><strong>成员函数功能</strong></p>
<ul>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Add ( const Address &amp; addr)</code>
将地址添加到白名单。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>帐户地址</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Add ( const std::string &amp; addr)</code>
将地址添加到白名单。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>帐户地址</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Delete ( const Address &amp; addr)</code>
从白名单中删除地址。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>帐户地址</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; void platon::WhiteList&lt; TableName &gt;::Delete ( const std::string &amp; addr)</code>
从白名单中删除地址。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>帐户地址</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; bool platon::WhiteList&lt; TableName &gt;::Exists ( const Address &amp; addr)</code>
该地址是否存在于白名单中。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>帐户地址</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>如果存在则为true，否则为false</li>
</ul></li>
</ul></li>
<li><p><code>template&lt;Name::Raw TableName&gt; bool platon::WhiteList&lt; TableName &gt;::Exists ( const std::string &amp; addr)</code>
该地址是否存在于白名单中。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>帐户地址</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>如果存在则为true，否则为false</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="存储api"></a><a href="#存储api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>存储API</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_set_state"></a><a href="#platon_set_state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_set_state()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_set_state</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *key, <span class="hljs-keyword">size_t</span> klen, <span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *value, <span class="hljs-keyword">size_t</span> vlen)</span>
</span></code></pre>
<p>设置状态对象</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>key：</code>键</li>
<li><code>Klen：</code>键的长度</li>
<li><code>value：</code>值</li>
<li><code>vlen：</code>值的长度</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_get_state_length"></a><a href="#platon_get_state_length" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_get_state_length()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">platon_get_state_length</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *key, <span class="hljs-keyword">size_t</span> klen)</span>
</span></code></pre>
<p>获取键对应的值的长度</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>key：</code>键</li>
<li><code>Klen：</code>键的长度</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>键对应的值的长度</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_get_state"></a><a href="#platon_get_state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_get_state()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">platon_get_state</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *key, <span class="hljs-keyword">size_t</span> klen, <span class="hljs-keyword">uint8_t</span> *value, <span class="hljs-keyword">size_t</span> vlen)</span></span>;
</code></pre>
<p>获取状态对象</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>key：</code>键</li>
<li><code>Klen：</code>密钥的长度</li>
<li><code>value：</code>值</li>
<li><code>vlen：</code>价值的长度</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>值的长度</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platonstoragetype-storagename-t--模板类"></a><a href="#platonstoragetype-storagename-t--模板类" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::StorageType&lt; StorageName, T &gt; 模板类</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw StorageName, <span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:StorageType&lt; StorageName, T &gt;
</code></pre>
<ul>
<li><p><strong>模板参数</strong></p>
<ul>
<li><code>StorageName：</code>元素值名称，在同一合约中，该名称必须唯一</li>
<li><code>T：</code>元素类型</li>
</ul></li>
<li><p><strong>公共成员功能</strong></p>
<ul>
<li><p><code>StorageType ()</code>
构造一个新的存储类型对象</p></li>
<li><p><code>StorageType (const T &amp;d)</code>
构造一个新的存储类型对象</p></li>
<li><p><code>StorageType (const StorageType&lt; StorageName, T &gt; &amp;)=delete</code></p></li>
<li><p><code>StorageType (const StorageType&lt; StorageName, T &gt; &amp;&amp;)=delete</code></p></li>
<li><p><code>~StorageType ()</code>
销毁存储类型对象。刷新到区块链。</p></li>
<li><p><code>T &amp; operator= (const T &amp;t)</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator== (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator!= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator&lt; (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator&gt;= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; bool operator&lt;= (const P &amp;t) const</code></p></li>
<li><p>`template<typename P>
bool operator&gt; (const P &amp;t) const</p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator^= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T operator^ (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator|= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T operator| (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator&amp;= (const P &amp;t) const</code></p></li>
<li><p><code>template&lt;typename P&gt; T operator&amp; (const P &amp;t) const</code></p></li>
<li><p><code>T operator~ () const</code></p></li>
<li><p><code>T &amp; operator&lt;&lt; (int offset)</code></p></li>
<li><p><code>T &amp; operator&gt;&gt; (int offset)</code></p></li>
<li><p><code>T &amp; operator++ ()</code></p></li>
<li><p><code>T operator++ (int)</code></p></li>
<li><p><code>T &amp; operator[] (int i)</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator+= (const P &amp;p)</code></p></li>
<li><p><code>template&lt;typename P&gt; T &amp; operator-= (const P &amp;p)</code></p></li>
<li><p><code>T &amp; operator* ()</code></p></li>
<li><p><code>T * operator-&gt; ()</code></p></li>
<li><p><code>operator bool () const</code></p></li>
<li><p><code>T get () const</code></p></li>
<li><p><code>T &amp; self ()</code></p></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platondbarray-tablename-key-n--模板类"></a><a href="#platondbarray-tablename-key-n--模板类" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::db::Array&lt; TableName, Key, N &gt; 模板类</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw TableName, <span class="hljs-keyword">typename</span> Key, <span class="hljs-keyword">unsigned</span> N&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:db::Array&lt; TableName, Key, N &gt;
</code></pre>
<ul>
<li><p><strong>成员类</strong></p>
<ul>
<li><p><code>class const_iterator Constant iterator.</code></p></li>
<li><p><code>class const_reverse_iterator Constant reverse iterator.</code></p></li>
<li><p><code>class iterator Iterator.</code></p></li>
</ul></li>
<li><p><strong>Public Types</strong></p>
<ul>
<li><code>typedef std::reverse_iterator&lt; iterator &gt; reverse_iterator</code></li>
</ul></li>
<li><p><strong>公共成员函数</strong></p>
<ul>
<li><p><code>Array ()</code></p></li>
<li><p><code>Array (const Array&lt; TableName, Key, N &gt; &amp;)=delete</code></p></li>
<li><p><code>Array (const Array&lt; TableName, Key, N &gt; &amp;&amp;)=delete</code></p></li>
<li><p><code>Array&lt; TableName, Key, N &gt; &amp; operator= (const Array&lt; TableName, Key, N &gt; &amp;)=delete</code></p></li>
<li><p><code>~Array ()</code></p></li>
<li><p><code>iterator begin ()</code>
迭代器开始位置</p></li>
<li><p><code>iterator end ()</code>
迭代器结束位置</p></li>
<li><p><code>reverse_iterator rbegin ()</code>
反向迭代器开始位置。</p></li>
<li><p><code>reverse_iterator rend ()</code>
反向迭代器结束位置。</p></li>
<li><p><code>const_iterator cbegin ()</code>
常量迭代器开始位置。</p></li>
<li><p><code>const_iterator cend ()</code>
常量迭代器最终位置。</p></li>
<li><p><code>const_reverse_iterator crbegin ()</code>
常数反向迭代器的起始位置。</p></li>
<li><p><code>const_reverse_iterator crend ()</code>
常数反向迭代器的最终位置。</p></li>
<li><p><code>Key &amp; at (size_t pos)</code>
获取指定的position元素。</p></li>
<li><p><code>Key &amp; operator[] (size_t pos)</code>
括号运算符。</p></li>
<li><p><code>size_t size ()</code>
数组大小</p></li>
<li><p><code>Key get_const (size_t pos)</code>
获取Const对象。不要刷新以缓存。</p></li>
<li><p><code>void set_const (size_t pos, const Key &amp;key)</code>
设置Const对象，请勿刷新以缓存。</p></li>
</ul></li>
<li><p><strong>静态公共属性</strong></p>
<ul>
<li><code>static const std::string kType = &quot;__array__&quot;</code></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platondbmap-tablename-key-value--模板类"></a><a href="#platondbmap-tablename-key-value--模板类" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon::db::Map&lt; TableName, Key, Value &gt; 模板类</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span>&lt;Name::Raw TableName, <span class="hljs-keyword">typename</span> Key, <span class="hljs-keyword">typename</span> Value&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">platon</span>:</span>:db::Map&lt; TableName, Key, Value &gt;
</code></pre>
<p>实现map操作，map模板。</p>
<ul>
<li><strong>模板参数</strong>
<ul>
<li><code>TableName:</code> map的名称，map的名称在每个合约中应该是唯一的。</li>
<li><code>Key：</code>键类型</li>
<li><code>Value：</code>值类型</li>
</ul></li>
</ul>
<p>MapType::Traverse 默认值为Traverse，当Traverse需要额外的数据结构进行操作时，当不需要遍历操作时，将其设置为NoTraverse。</p>
<ul>
<li><p><strong>公共成员函数功能</strong></p>
<ul>
<li><p><code>Map ()</code></p></li>
<li><p><code>Map(const Map&lt; TableName, Key, Value &gt; &amp;)=delete</code></p></li>
<li><p><code>Map(const Map&lt; TableName, Key, Value &gt; &amp;&amp;)=delete</code></p></li>
<li><p><code>Map&lt; TableName, Key, Value &gt; &amp; operator= (const Map&lt; TableName, Key, Value &gt; &amp;)=delete</code></p></li>
<li><p><code>~Map ()</code>
销毁Map对象将数据刷新到区块链。</p></li>
<li><p><code>bool insert (const Key &amp;k, const Value &amp;v)</code>
插入新的键值对，更新为缓存。</p></li>
<li><p><code>bool insert_const (const Key &amp;k, const Value &amp;v)</code>
插入将不会更新到缓存的新键值对。适用于大量插入，插入后无需更新。</p></li>
<li><p><code>Value get_const (const Key &amp;k)</code>
获取Const对象，将不会加入缓存。</p></li>
<li><p><code>Value &amp; at (const Key &amp;k)</code>
获取值，将被添加到缓存中。</p></li>
<li><p><code>void erase (const Key &amp;k)</code>
删除键值对。</p></li>
<li><p><code>Value &amp; operator[] (const Key &amp;k)</code>
括号运算符。</p></li>
<li><p><code>boolcontains (const Key &amp;key)</code>
检查容器中是否存在具有与key等效的键的元素。</p></li>
<li><p><code>void flush ()</code>
将内存中的修改数据刷新到区块链。</p></li>
</ul></li>
<li><p><strong>静态公共属性</strong></p>
<ul>
<li><code>static const std::string kType = &quot;__map__&quot;</code></li>
</ul></li>
<li><p><strong>构造函数和析构函数</strong></p>
<ul>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::Map ()</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::Map (const Map&lt; TableName, Key, Value &gt; &amp; )</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::Map (const Map&lt; TableName, Key, Value &gt; &amp;&amp; )</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; platon::db::Map&lt; TableName, Key, Value &gt;::~Map ()</code></p></li>
</ul></li>
</ul>
<p>销毁Map对象将数据刷新到区块链。</p>
<ul>
<li><p><strong>成员函数功能</strong></p>
<ul>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Value&amp; platon::db::Map&lt; TableName, Key, Value &gt;::at ( const Key &amp; k )</code>
获取值，将被添加到缓存中。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>k：</code>键</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
<li><p>值的引用</p></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
</code></pre></li>
</ul>
<p>assert(map.at[&quot;hello&quot;] == &quot;world&quot;);</p>
<pre><code class="hljs">
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; bool platon::db::Map&lt; TableName, Key, Value &gt;::contains ( const Key &amp; key )</code>
检查容器中是否存在具有与key等效的键的元素。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>k：</code>键</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
<li><p>如果存在这样的元素，则为true，否则为false。</p></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"> <span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
 MapStr <span class="hljs-built_in">map</span>;
 <span class="hljs-built_in">map</span>.[<span class="hljs-string">"hello"</span>] = <span class="hljs-string">"world"</span>;
</code></pre></li>
</ul>
<p>assert(map.contains(&quot;hello&quot;));</p>
<pre><code class="hljs">
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; void platon::db::Map&lt; TableName, Key, Value &gt;::erase ( const Key &amp; k )</code>
删除键值对。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>k：</code>键</li>
</ul></li>
</ul></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
<span class="hljs-built_in">map</span>.erase(<span class="hljs-string">"hello"</span>);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; void platon::db::Map&lt; TableName, Key, Value &gt;::flush ()</code>
将内存中的修改数据刷新到区块链。</p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Value platon::db::Map&lt; TableName, Key, Value &gt;::get_const ( const Key &amp; k)</code>
获取Const对象，将不会加入缓存。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>k：</code>键</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
<li><p>价值</p></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
</code></pre></li>
</ul>
<p>assert(map.get_const[&quot;hello&quot;] == &quot;world&quot;);</p>
<pre><code class="hljs">
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; bool platon::db::Map&lt; TableName, Key, Value &gt;::insert ( const Key &amp; k, const Value &amp; v)</code>
插入新的键值对，更新为缓存。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>k：</code>键</li>
<li><code>v：</code>值</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>true插入成功，false插入失败</li>
</ul></li>
</ul></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
assert(<span class="hljs-built_in">map</span>[<span class="hljs-string">"hello"</span>] == <span class="hljs-string">"world"</span>);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; bool platon::db::Map&lt; TableName, Key, Value &gt;::insert_const ( const Key &amp; k, const Value &amp; v)</code>
插入将不会更新到缓存的新键值对。适用于大量插入，插入后无需更新。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>k：</code>键</li>
<li><code>v：</code>值</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>true插入成功，false插入失败</li>
</ul></li>
</ul></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.insert_const(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>);
assert(<span class="hljs-built_in">map</span>[<span class="hljs-string">"hello"</span>] == <span class="hljs-string">"world"</span>);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Map&lt;TableName, Key, Value&gt;&amp; platon::db::Map&lt; TableName, Key, Value &gt;::operator= ( const Map&lt; TableName, Key, Value &gt; &amp; )</code></p></li>
<li><p><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; Value&amp; platon::db::Map&lt; TableName, Key, Value &gt;::operator[] ( const Key &amp; k)</code>
括号运算符。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>k：</code>键</li>
</ul></li>
<li><p><strong>返回值</strong></p></li>
<li><p>价值与获取价值</p></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">typedef</span> platon::db::Map&lt;<span class="hljs-string">"map_str"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; MapStr;
MapStr <span class="hljs-built_in">map</span>;
<span class="hljs-built_in">map</span>.[<span class="hljs-string">"hello"</span>] = <span class="hljs-string">"world"</span>;
</code></pre></li>
</ul></li>
</ul></li>
<li><p><strong>成员变量</strong></p>
<ul>
<li><code>template&lt;Name::Raw TableName, typename Key , typename Value &gt; const std::string platon::db::Map&lt; TableName, Key, Value &gt;::kType = &quot;__map__&quot;</code></li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="templatenameraw-tablename-typename-t-typename-indices-class-platondbmultiindex-tablename-t-indices-"></a><a href="#templatenameraw-tablename-typename-t-typename-indices-class-platondbmultiindex-tablename-t-indices-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>template&lt;Name::Raw TableName, typename T, typename... Indices&gt; class platon::db::MultiIndex&lt; TableName, T, Indices &gt;</h4>
<p>MultiIndex支持惟一索引和普通索引。惟一索引应该放在参数的第一个位置。结构需要提供与index字段对应的get函数。</p>
<ul>
<li><strong>成员函数功能</strong>
<ul>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt;const_iterator platon::db::MultiIndex&lt; TableName, T, Indices &gt;::cbegin()</code>
开始迭代器</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>const_iterator</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp">  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
  <span class="hljs-keyword">uint8_t</span> age;
  <span class="hljs-keyword">uint8_t</span> sex;
  <span class="hljs-keyword">uint64_t</span> $seq_;
  <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
  PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
  <span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                      IndexType::UniqueIndex&gt;&gt;,
  IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
  member_table;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = member_table.cbegin(); it != it_end; ++it){}
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; const_iterator platon::db::MultiIndex&lt; TableName, T, Indices &gt;::cend()</code>
结束迭代器</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>const_iterator</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp">  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
  <span class="hljs-keyword">uint8_t</span> age;
  <span class="hljs-keyword">uint8_t</span> sex;
  <span class="hljs-keyword">uint64_t</span> $seq_;
  <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
  PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
  <span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                      IndexType::UniqueIndex&gt;&gt;,
  IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
  member_table;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = member_table.cbegin(); it != it_end; ++it){}
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;Name::Raw IndexName, typename KEY &gt; size_t platon::db::MultiIndex&lt; TableName, T, Indices &gt;::count(const KEY &amp;key)</code></p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>获取与索引值对应的数据的数量</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> count = member_table.count&lt;<span class="hljs-string">"index2"</span>_n&gt;(<span class="hljs-keyword">uint8_t</span>(<span class="hljs-number">10</span>));
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;typename Lambda&gt; std::pair&lt;const_iterator, bool&gt; platon::db::MultiIndex&lt; TableName, T, Indices &gt;::emplace(Lambda &amp;constructor)</code></p>
<ul>
<li><strong>参数</strong>
<ul>
<li>数据项处理函数</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>返回一个迭代器，该迭代器指示使用bool类型的插入是否成功。如果惟一索引冲突，则插入失败</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
  <span class="hljs-keyword">uint8_t</span> age;
  <span class="hljs-keyword">uint8_t</span> sex;
  <span class="hljs-keyword">uint64_t</span> $seq_;
  <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
  PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
  <span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                      IndexType::UniqueIndex&gt;&gt;,
  IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
  member_table;
member_table.emplace([&amp;](<span class="hljs-keyword">auto</span> &amp;m) {
  m.age = <span class="hljs-number">10</span>;
  m.name = <span class="hljs-string">"hello"</span>;
  m.sex = <span class="hljs-number">1</span>;
});
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; void platon::db::MultiIndex&lt; TableName, T, Indices &gt;::erase(const_iterator position)</code>
基于迭代器删除数据</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>position：</code>迭代器</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                  IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                    IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> vect_iter = member_table.find&lt;<span class="hljs-string">"index2"</span>_n&gt;(<span class="hljs-keyword">uint8_t</span>(<span class="hljs-number">10</span>));
member_table.erase(vect_iter[<span class="hljs-number">0</span>]);
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;Name::Raw IndexName, typename KEY &gt; const_iterator platon::db::MultiIndex&lt; TableName, T, Indices &gt;::find(const KEY &amp; key)</code>
找到数据，只有一个唯一的索引是可用的。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>key：</code>索引值</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>结果迭代器。如果没有找到值为cend()。</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> vect_iter = member_table.find&lt;<span class="hljs-string">"index2"</span>_n&gt;(<span class="hljs-keyword">uint8_t</span>(<span class="hljs-number">10</span>));
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;Name::Raw IndexName&gt;auto platon::db::MultiIndex&lt; TableName, T, Indices &gt;::get_index()</code>
获取非唯一索引的索引对象。</p>
<ul>
<li><strong>返回值</strong>
<ul>
<li>索引对象</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
<span class="hljs-keyword">auto</span> index = member_table.get_index&lt;<span class="hljs-string">"index2"</span>_n&gt;();
</code></pre></li>
<li><p><code>template&lt;Name::Raw TableName, typename T , typename... Indices&gt; template&lt;typename Lambda &gt;void platon::db::MultiIndex&lt; TableName, T, Indices &gt;::modify(const_iterator position,Lambda &amp;&amp; constructor)</code>
基于迭代器修改数据，但不能修改所有与索引相关的字段。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>position：</code>迭代器</li>
<li><code>constructor：</code>更新目标对象的lambda函数</li>
</ul></li>
<li><strong>示例：</strong></li>
</ul>
<pre><code class="hljs css language-cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Member</span> {</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> name;
<span class="hljs-keyword">uint8_t</span> age;
<span class="hljs-keyword">uint8_t</span> sex;
<span class="hljs-keyword">uint64_t</span> $seq_;
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> name; }
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Age</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> age; }
PLATON_SERIALIZE(Member, (name)(age)(sex))
};
MultiIndex&lt;
<span class="hljs-string">"table"</span>_n, Member,
  IndexedBy&lt;<span class="hljs-string">"index"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, &amp;Member::Name,
                                    IndexType::UniqueIndex&gt;&gt;,
IndexedBy&lt;<span class="hljs-string">"index2"</span>_n, IndexMemberFun&lt;Member, <span class="hljs-keyword">uint8_t</span>, &amp;Member::Age,
                                      IndexType::NormalIndex&gt;&gt;&gt;
member_table;
member_table.modify(r.first, [&amp;](<span class="hljs-keyword">auto</span> &amp;m) { m.sex = <span class="hljs-number">15</span>; });
</code></pre></li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="合约api"></a><a href="#合约api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>合约API</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_destroy"></a><a href="#platon_destroy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_destroy()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">platon::platon_destroy</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp; addr)</span>
</span></code></pre>
<p>销毁合约。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>合约地址</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>如果销毁成功，则为true，否则为false</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_migrate_contract"></a><a href="#platon_migrate_contract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_migrate_contract()</h4>
<pre><code class="hljs css language-cpp">template&lt;typename value_type , typename gas_type &gt;
bool platon::platon_migrate_contract ( Address &amp; addr,
const bytes &amp; init_args,
value_type  value,
gas_type  gas)
</code></pre>
<p>迁移合约。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>addr：</code>新合约的地址</li>
<li><code>init_args：</code>输入参数</li>
<li><code>value：</code>转账金额</li>
<li><code>gas：</code>支付此交易的gas金额</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>如果迁移成功，则为true，否则为false</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="cross_call_args"></a><a href="#cross_call_args" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>cross_call_args()</h4>
<pre><code class="hljs css language-cpp">template&lt;typename... Args&gt;
bytes platon::cross_call_args ( const std::string &amp; method,
const Args &amp;...  args)  
</code></pre>
<p>构造跨合约调用参数。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>method：</code>被调用合约的方法名称</li>
<li><code>args：</code>对应于合约方法的参数</li>
</ul></li>
<li><strong>返回值</strong>
<ul>
<li>参数字节数组</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_call"></a><a href="#platon_call" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_call()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> value_type, <span class="hljs-keyword">typename</span> gas_type, <span class="hljs-keyword">typename</span>... Args&gt;
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">platon_call</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp;addr, <span class="hljs-keyword">const</span> value_type &amp;value,
<span class="hljs-keyword">const</span> gas_type &amp;gas, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> &amp;method,
<span class="hljs-keyword">const</span> Args &amp;... args)</span>
</span></code></pre>
<p>没有返回值的跨合约调用。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>addr：</code>要调用的合约地址</li>
<li><code>value：</code>转移到合约的金额</li>
<li><code>gas：</code>对应的合约方法估计消耗的gas</li>
<li><code>method：</code>被调用合约的方法名称</li>
<li><code>args：</code>对应于合约方法的参数</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>调用成功或者失败</li>
</ul></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">auto</span> address_pair =make_address(<span class="hljs-string">"lax10jc0t4ndqarj4q6ujl3g3ycmufgc77epxg02lt"</span>);
<span class="hljs-keyword">bool</span> result = platon_call(address_pair.first, <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-string">"add"</span>, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
<span class="hljs-keyword">if</span>(!result){
  platon_throw(<span class="hljs-string">"cross call fail"</span>);
}
</code></pre></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_call_with_return_value"></a><a href="#platon_call_with_return_value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_call_with_return_value()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> return_type, <span class="hljs-keyword">typename</span> value_type, <span class="hljs-keyword">typename</span> gas_type, <span class="hljs-keyword">typename</span>... Args&gt;
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">platon_call_with_return_value</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp;addr,
<span class="hljs-keyword">const</span> value_type &amp;value,
<span class="hljs-keyword">const</span> gas_type &amp;gas,
<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> &amp;method,
<span class="hljs-keyword">const</span> Args &amp;... args)</span>
</span></code></pre>
<p>带返回值的跨合约调用。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>addr：</code>要调用的合约地址</li>
<li><code>value：</code>转移到合约的金额</li>
<li><code>gas：</code>对应的合约方法估计消耗的gas</li>
<li><code>method：</code>被调用合约的方法名称</li>
<li><code>args：</code>对应于合约方法的参数</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>返回值和调用成功或者失败</li>
</ul></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">auto</span> address_pair =make_address(<span class="hljs-string">"lax10jc0t4ndqarj4q6ujl3g3ycmufgc77epxg02lt"</span>); 
<span class="hljs-keyword">auto</span> result = platon_call_with_return_value&lt;<span class="hljs-keyword">int</span>&gt;(address_pair.first, <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-string">"add"</span>, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
<span class="hljs-keyword">if</span>(!result.second){
 platon_throw(<span class="hljs-string">"cross call fail"</span>);
}
</code></pre></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_delegate_call"></a><a href="#platon_delegate_call" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_delegate_call()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> gas_type, <span class="hljs-keyword">typename</span>... Args&gt;
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">platon_delegate_call</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp;addr, <span class="hljs-keyword">const</span> gas_type &amp;gas,
<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> &amp;method,
<span class="hljs-keyword">const</span> Args &amp;... args)</span> 
</span></code></pre>
<p>没有返回值的跨合约代理调用。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>addr：</code>要调用的合约地址</li>
<li><code>gas：</code>对应的合约方法估计消耗的gas</li>
<li><code>method：</code>被调用合约的方法名称</li>
<li><code>args：</code>对应于合约方法的参数</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>调用成功或者失败</li>
</ul></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"> <span class="hljs-keyword">auto</span> address_pair =make_address(<span class="hljs-string">"lax10jc0t4ndqarj4q6ujl3g3ycmufgc77epxg02lt"</span>);
 <span class="hljs-keyword">bool</span> result = platon_delegate_call(address_pair.first, <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-string">"add"</span>, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
 <span class="hljs-keyword">if</span>(!result){
   platon_throw(<span class="hljs-string">"cross call fail"</span>);
 }
</code></pre></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_delegate_call_with_return_value"></a><a href="#platon_delegate_call_with_return_value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_delegate_call_with_return_value()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> return_type, <span class="hljs-keyword">typename</span> gas_type, <span class="hljs-keyword">typename</span>... Args&gt;
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">platon_delegate_call_with_return_value</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Address &amp;addr,
<span class="hljs-keyword">const</span> gas_type &amp;gas,
<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> &amp;method,
<span class="hljs-keyword">const</span> Args &amp;... args)</span> 
</span></code></pre>
<p>有返回值的跨合约代理调用。</p>
<ul>
<li><p><strong>参数</strong></p>
<ul>
<li><code>addr：</code>要调用的合约地址</li>
<li><code>gas：</code>对应的合约方法估计消耗的gas</li>
<li><code>method：</code>被调用合约的方法名称</li>
<li><code>args：</code>对应于合约方法的参数</li>
</ul></li>
<li><p><strong>返回值</strong></p>
<ul>
<li>返回值和调用成功或者失败</li>
</ul></li>
<li><p><strong>示例：</strong></p>
<pre><code class="hljs css language-cpp"><span class="hljs-keyword">auto</span> address_pair = make_address(<span class="hljs-string">"lax10jc0t4ndqarj4q6ujl3g3ycmufgc77epxg02lt"</span>); 
<span class="hljs-keyword">auto</span> result = platon_delegate_call_with_return_value&lt;<span class="hljs-keyword">int</span>&gt;(address_pair.first, <span class="hljs-keyword">uint32_t</span>(<span class="hljs-number">100</span>), <span class="hljs-string">"add"</span>, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);
<span class="hljs-keyword">if</span>(!result.secnod){
  platon_throw(<span class="hljs-string">"cross call fail"</span>);
}
</code></pre></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="get_call_output"></a><a href="#get_call_output" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>get_call_output()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T &gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">platon::get_call_output</span> <span class="hljs-params">( T &amp; t)</span>
</span></code></pre>
<p>获取跨合约调用合约方法的返回值。</p>
<ul>
<li><strong>模板参数</strong>
<ul>
<li><code>T：</code>输出值类型</li>
</ul></li>
<li><strong>参数</strong>
<ul>
<li><code>t：</code>合约方法返回的值</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="platon_event"></a><a href="#platon_event" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_event</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_event</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *topic, <span class="hljs-keyword">size_t</span> topic_len, <span class="hljs-keyword">const</span> <span class="hljs-keyword">uint8_t</span> *args,
                  <span class="hljs-keyword">size_t</span> args_len)</span></span>;
</code></pre>
<p>发布事件</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>topic：</code>事件的主题</li>
<li><code>topic_len：</code>主题的长度</li>
<li><code>args：</code>参数</li>
<li><code>args_len：</code>参数的长度</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="异常api"></a><a href="#异常api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>异常API</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_panic"></a><a href="#platon_panic" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_panic</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_panic</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;
</code></pre>
<p>终止交易，扣除交易的所有gas</p>
<h4><a class="anchor" aria-hidden="true" id="platon_revert"></a><a href="#platon_revert" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_revert</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">platon_revert</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;
</code></pre>
<p>终止交易并扣除消耗的gas</p>
<h3><a class="anchor" aria-hidden="true" id="其他api"></a><a href="#其他api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他API</h3>
<h4><a class="anchor" aria-hidden="true" id="platon_sha3"></a><a href="#platon_sha3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>platon_sha3()</h4>
<pre><code class="hljs css language-cpp"><span class="hljs-function">h256 <span class="hljs-title">platon::platon_sha3</span> <span class="hljs-params">( <span class="hljs-keyword">const</span> bytes &amp; data )</span>
</span></code></pre>
<p>Sh3算法。</p>
<ul>
<li><strong>参数</strong>
<ul>
<li><code>data：</code>二进制数据</li>
</ul></li>
<li><strong>返回</strong>
<ul>
<li>数据哈希</li>
</ul></li>
</ul>
<hr>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/Wasm_Contract_Best_Practice"><span class="arrow-prev">← </span><span>合约开发最佳实践</span></a><a class="docs-next button" href="/docs/zh-CN/Python_SDK"><span>Python SDK</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#api">API</a><ul class="toc-headings"><li><a href="#区块api">区块Api</a></li><li><a href="#交易api">交易API</a></li><li><a href="#帐户api">帐户Api</a></li><li><a href="#存储api">存储API</a></li><li><a href="#合约api">合约API</a></li><li><a href="#异常api">异常API</a></li><li><a href="#其他api">其他API</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.platon.network/" class="nav-home"><img src="/docs/img/PlatON-logo2.svg" alt="PlatON" width="66" height="58"/></a><div><a href="https://www.platon.network/">PlatON network</a><a href="https://latticex.foundation/home">Lattice.Foundation</a><a href="https://forum.latticex.foundation/">Forum</a></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></section><section class="copyright">COPYRIGHT  © 2021 PLATON NETWORK.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c2ce4863993980eb049b661be250c773',
                indexName: 'platon',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>