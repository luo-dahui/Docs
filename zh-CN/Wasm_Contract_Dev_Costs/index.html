<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>开发成本 · PlatON</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="### 概要"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="开发成本 · PlatON"/><meta property="og:type" content="website"/><meta property="og:url" content="https://luo-dahui.github.io//docs/"/><meta property="og:description" content="### 概要"/><meta property="og:image" content="https://luo-dahui.github.io//docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://luo-dahui.github.io//docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script><script type="text/javascript" src="/docs/js/custom.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="https://www.platon.network/?lang=zh"><img class="logo" src="/docs/img/PlatON-logo.svg" alt="PlatON"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/Wasm_Contract_Dev_Costs">English</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Wasm合约</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">概述<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/">概述</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">初步了解<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/lat_introduced">什么是LAT</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/staking_and_delegation">质押&amp;委托</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Network_Description">网络说明</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">进阶了解<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Overall_Solution">总体架构</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Economic_Model">经济模型</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Solution">共识机制</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Governance_Solution">治理机制</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Operation_Principle">Wasm虚拟机</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PlatON节点<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_Validation_Introduce">验证节点介绍</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Become_PlatON_Main_Verification">成为主网验证节点</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">节点工具</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/OnLine_MTool_Manual">MTool在线教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/OffLine_MTool_Manual">MTool离线教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Command_Line_Tools">命令行工具</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">开发者<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">设置开发环境</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Join_Dev_Network">开发网络</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Build_Private_Chain">私有网络</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">智能合约</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_system_contract">系统合约</a></li></ul></div><div class="navGroup subNavGroup sonNavGroup"><h4 class="navGroupSubcategoryTitle sonNavTitle">Solidity合约</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Dev_Manual">入门手册</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Migrate">迁移教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Dev_Costs">开发成本</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Best_Practice">最佳实践</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Solidity_Contract_Security_Dev_Guide">安全指南</a></li></ul></div><div class="navGroup subNavGroup sonNavGroup"><h4 class="navGroupSubcategoryTitle sonNavTitle">Wasm合约</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Dev_Manual">入门手册</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/Wasm_Contract_Dev_Costs">开发成本</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Contract_Best_Practice">最佳实践</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Wasm_Contract_API">合约API</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API参考</h4><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Python_SDK">Python SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/JS_SDK">JS SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Java_SDK">Java SDK</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Json_Rpc">JSON-RPC</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Samurai_API">Samurai API</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PRC_Token">PRC Token</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">数据分析<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatON_BlockChain_Browser">PlatScan</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/PlatEye">PlatEye</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">钱包<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/ATON-user-manual">ATON钱包</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Samurai_user_manual">Samurai</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/Third_Party_Walle">第三方钱包</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">community<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/community">社区项目</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/wasm合约开发成本.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">开发成本</h1></header><article><div><span><h3><a class="anchor" aria-hidden="true" id="概要"></a><a href="#概要" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>概要</h3>
<p>在区块链系统中，基于任何一条公链系统开发智能合约都涉及资源支出的开发成本。例如，在网络上部署/调用智能合约，进行能量转移，质押/委托等操作都需要花费一定的成本，不同的区块链网络开发成本不一样，在 <code>PlatON</code> 网络中运行着两种虚拟机EVM和WASM，在不同虚拟机上上开发智能合约的成本也是不一样的。本手册将重点介绍使用 <code>WASN</code> 虚拟机涉及到的成本使用，本文将用表格的形式对比小型合约、中型合约和大型合约的不同开发成本，同时将 <code>PlatON</code> 的 <code>EVM</code>/<code>WASM</code>虚拟机和以太坊虚拟机之间进行对比。在合约方面，使用一个简单的<code>SET/GET</code>功能的合约作为小型测试合约，中型合约示例将使用一个开源的<a href="https://github.com/yep/eth-tweet">微博客</a>合约，而大型合约则是一个符合 <code>PRC20</code> 标准的智能合约。</p>
<h4><a class="anchor" aria-hidden="true" id="资源消耗"></a><a href="#资源消耗" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>资源消耗</h4>
<p><strong>简单set/get合约</strong></p>
<table>
<thead>
<tr><th style="text-align:left">系统</th><th style="text-align:left">合约级别</th><th style="text-align:left">合约大小</th><th style="text-align:left">消耗Gas</th><th style="text-align:left">Gas 单价</th><th style="text-align:left">能量损耗</th><th style="text-align:left">备注</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON-EVM</td><td style="text-align:left">小型合约</td><td style="text-align:left">0.3 kb</td><td style="text-align:left">76953</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">384765 <code>gVON</code></td><td style="text-align:left">0.000384765 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">小型合约</td><td style="text-align:left">0.3 kb</td><td style="text-align:left">127173</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">635865 <code>Gwei</code></td><td style="text-align:left">0.000635865 <code>ETH</code></td></tr>
<tr><td style="text-align:left">PlatON-WASM</td><td style="text-align:left">小型合约</td><td style="text-align:left">13.55 kb</td><td style="text-align:left">184043</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">920215 <code>gVON</code></td><td style="text-align:left">0.000920215 <code>LAT</code></td></tr>
</tbody>
</table>
<p><strong>微博客</strong></p>
<table>
<thead>
<tr><th style="text-align:left">系统</th><th style="text-align:left">合约级别</th><th style="text-align:left">合约大小</th><th style="text-align:left">消耗Gas</th><th style="text-align:left">Gas 单价</th><th style="text-align:left">能量损耗</th><th style="text-align:left">备注</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON-EVM</td><td style="text-align:left">中型合约</td><td style="text-align:left">2.08 kb</td><td style="text-align:left">257065</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">1285325 <code>gVON</code></td><td style="text-align:left">0.001285325 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">中型合约</td><td style="text-align:left">2.08 kb</td><td style="text-align:left">621385</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">3106925 <code>Gwei</code></td><td style="text-align:left">0.003106925 <code>ETH</code></td></tr>
<tr><td style="text-align:left">PlatON-WASM</td><td style="text-align:left">中型合约</td><td style="text-align:left">30.07 kb</td><td style="text-align:left">349713</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">1748565 <code>gVON</code></td><td style="text-align:left">0.001748565 <code>LAT</code></td></tr>
</tbody>
</table>
<p><strong>PRC20标准Token</strong></p>
<table>
<thead>
<tr><th style="text-align:left">系统</th><th style="text-align:left">合约级别</th><th style="text-align:left">合约大小</th><th style="text-align:left">消耗Gas</th><th style="text-align:left">Gas 单价</th><th style="text-align:left">能量损耗</th><th style="text-align:left">备注</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">PlatON-EVM</td><td style="text-align:left">大型合约</td><td style="text-align:left">4.45 kb</td><td style="text-align:left">552823</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">2764115  <code>gVON</code></td><td style="text-align:left">0.002764115 <code>LAT</code></td></tr>
<tr><td style="text-align:left">Ethereum</td><td style="text-align:left">大型合约</td><td style="text-align:left">4.45 kb</td><td style="text-align:left">1282171</td><td style="text-align:left">5,000,000,000 <code>wei</code></td><td style="text-align:left">6410855  <code>Gwei</code></td><td style="text-align:left">0.006410855 <code>ETH</code></td></tr>
<tr><td style="text-align:left">PlatON-WASM</td><td style="text-align:left">大型合约</td><td style="text-align:left">35.9 kb</td><td style="text-align:left">486274</td><td style="text-align:left">5,000,000,000 <code>VON</code></td><td style="text-align:left">2431370  <code>gVON</code></td><td style="text-align:left">0.00243137 <code>LAT</code></td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="小型合约示例"></a><a href="#小型合约示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>小型合约示例</h3>
<h4><a class="anchor" aria-hidden="true" id="简单setget合约"></a><a href="#简单setget合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>简单set/get合约</h4>
<p><strong>EVM示例代码</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">pragma</span> solidity ^<span class="hljs-number">0.4</span><span class="hljs-number">.12</span>;

contract SimpleTest {
    
    <span class="hljs-built_in">uint</span> <span class="hljs-keyword">public</span> age;
 
    <span class="hljs-built_in">function</span> setAge(<span class="hljs-built_in">uint</span> _input) <span class="hljs-keyword">public</span> {
        age = _input;
    }
 
    <span class="hljs-built_in">function</span> getAge() <span class="hljs-keyword">public</span> constant returns (<span class="hljs-built_in">uint</span>) {
        <span class="hljs-keyword">return</span> age;
    }
}
</code></pre>
<p>字节码</p>
<pre><code class="hljs"><span class="hljs-number">608060405234801561001057600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50610117806100206000396000</span>f<span class="hljs-number">3006080604052600436106053576000357</span><span class="hljs-keyword">c</span><span class="hljs-number">0100000000000000000000000000000000000000000000000000000000900463</span>ffffffff<span class="hljs-number">168063262</span>a<span class="hljs-number">9</span>dff<span class="hljs-number">146058578063967e6</span>e<span class="hljs-number">65146080578063</span>d<span class="hljs-number">5</span>dcf<span class="hljs-number">1271460</span>a<span class="hljs-number">8575</span>b<span class="hljs-number">600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">348015606357600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50606</span>a<span class="hljs-number">60</span>d<span class="hljs-number">2565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">348015608</span>b<span class="hljs-number">57600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">50609260</span>d<span class="hljs-number">8565</span>b<span class="hljs-number">6040518082815260200191505060405180910390</span>f<span class="hljs-number">35</span>b<span class="hljs-number">34801560</span>b<span class="hljs-number">357600080</span>fd<span class="hljs-number">5</span>b<span class="hljs-number">5060</span>d<span class="hljs-number">06004803603810190808035906020019092919050505060e1565</span>b<span class="hljs-number">005</span>b<span class="hljs-number">60005481565</span>b<span class="hljs-number">60008054905090565</span>b<span class="hljs-number">80600081905550505600</span>a<span class="hljs-number">165627</span>a<span class="hljs-number">7</span>a<span class="hljs-number">7230582079e51340567895</span>e<span class="hljs-number">1097e1</span><span class="hljs-keyword">c</span><span class="hljs-number">9115e778</span><span class="hljs-keyword">c</span><span class="hljs-number">3</span>d<span class="hljs-number">982</span>b<span class="hljs-number">8e71</span>b<span class="hljs-number">6997</span><span class="hljs-keyword">c</span><span class="hljs-number">57</span>f<span class="hljs-number">1</span>ba<span class="hljs-number">497</span><span class="hljs-keyword">c</span><span class="hljs-number">56</span><span class="hljs-keyword">c</span><span class="hljs-number">8</span>b<span class="hljs-number">3</span>b<span class="hljs-number">0029</span>
</code></pre>
<p>字节大小：<code>311 byte =&gt; 0.3 kb</code></p>
<hr>
<p><strong>WASM示例代码</strong></p>
<pre><code class="hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;platon/platon.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> platon;

CONTRACT SimpleStorage: <span class="hljs-keyword">public</span> platon::Contract
{
    <span class="hljs-keyword">public</span>:
        <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>{}
    
        <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-keyword">uint64_t</span> input)</span>
        </span>{
            storedData.self() = input;      
        }
        
        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">get</span><span class="hljs-params">()</span>
        </span>{
            <span class="hljs-keyword">return</span> storedData.self();
        }

    <span class="hljs-keyword">private</span>:
        platon::StorageType&lt;<span class="hljs-string">"sstored"</span>_n, <span class="hljs-keyword">uint64_t</span>&gt; storedData;
};

PLATON_DISPATCH(SimpleStorage,(init)(<span class="hljs-built_in">set</span>)(<span class="hljs-built_in">get</span>))
</code></pre>
<p>字节码</p>
<p><a href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/SimpleStorage_wasm.bin">查看字节码</a></p>
<p>字节大小：<code>13882 byte =&gt; 13.55 kb</code></p>
<hr>
<h6><a class="anchor" aria-hidden="true" id="创建部署合约成本"></a><a href="#创建部署合约成本" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>创建&amp;部署合约成本</h6>
<p>PlatON-EVM</p>
<ul>
<li>Gas消耗: 76953</li>
<li>Gas单价: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>总成本:  384765 <code>gVON</code>（0.000384765 <code>LAT</code>）</li>
</ul>
<p>以太坊</p>
<ul>
<li>Gas消耗: 127173</li>
<li>Gas单价: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>总成本:  635865 <code>Gwei</code>（0.000635865 <code>ETH</code>）</li>
</ul>
<p>PlatON-WASM</p>
<ul>
<li>Gas消耗: 184043</li>
<li>Gas单价: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>总成本:  920215 <code>gVON</code>（0.000920215 <code>LAT</code>）</li>
</ul>
<hr>
<h3><a class="anchor" aria-hidden="true" id="中型合约示例"></a><a href="#中型合约示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>中型合约示例</h3>
<h4><a class="anchor" aria-hidden="true" id="微博客合约"></a><a href="#微博客合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>微博客合约</h4>
<p><strong>EVM示例代码</strong></p>
<p><a href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/account.sol">点击查看微博客账户合约</a></p>
<p>字节码</p>
<p><a href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Tweet_wasm.bin">查看字节码</a></p>
<p>字节大小： <code>2130.5 byte =&gt; 2.08 kb</code></p>
<hr>
<p><strong>WASM示例代码</strong></p>
<pre><code class="hljs">#<span class="hljs-keyword">include</span> &lt;platon/platon.hpp&gt;
#<span class="hljs-keyword">include</span> &lt;<span class="hljs-built_in">string</span>&gt;
using namespace platon;

<span class="hljs-comment">// data structure of a single tweet.</span>
<span class="hljs-keyword">struct</span> Tweet{

    public:
        uint64_t timestamp;
        std::<span class="hljs-built_in">string</span> tweetString;

    public:
        <span class="hljs-constructor">Tweet()</span>{}
        <span class="hljs-constructor">Tweet(<span class="hljs-params">uint64_t</span> &amp;<span class="hljs-params">timestamp</span>, <span class="hljs-params">const</span> <span class="hljs-params">std</span>::<span class="hljs-params">string</span> &amp;<span class="hljs-params">tweet</span>)</span>:timestamp(timestamp), tweet<span class="hljs-constructor">String(<span class="hljs-params">tweet</span>)</span> {
        }

    public:
        <span class="hljs-constructor">PLATON_SERIALIZE(Tweet, (<span class="hljs-params">timestamp</span>)</span>(tweetString))
};

CONTRACT TweetAccount: public platon::Contract
{
    <span class="hljs-keyword">private</span>:
        <span class="hljs-comment">// "array" of all tweets of this account: maps the tweet id to the actual tweet.</span>
        platon::StorageType&lt;<span class="hljs-string">"smapping"</span>_n, std::map&lt;std::uint64_t, Tweet&gt;&gt; _tweets;
        <span class="hljs-comment">// total number of tweets in the above _tweets mapping.</span>
        platon::StorageType&lt;<span class="hljs-string">"suint"</span>_n, uint64_t&gt; _numberOfTweets;
        <span class="hljs-comment">// "owner" of this account: only admin is allowed to tweet.</span>
        platon::StorageType&lt;<span class="hljs-string">"saddress"</span>_n, Address&gt; _adminAddress;
    
    public:
        ACTION void init<span class="hljs-literal">()</span>
        {
            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span> = <span class="hljs-number">0</span>;
            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_adminAddress</span>.</span></span>self<span class="hljs-literal">()</span> = platon::platon<span class="hljs-constructor">_caller()</span>;
        }
        
        <span class="hljs-comment">// returns true if caller of function("sender") is admin.</span>
        CONST <span class="hljs-built_in">bool</span> is<span class="hljs-constructor">Admin()</span>{
            return platon::platon<span class="hljs-constructor">_caller()</span><span class="hljs-operator"> == </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_adminAddress</span>.</span></span>self<span class="hljs-literal">()</span>;     
        }
    
        <span class="hljs-comment">// create new tweet</span>
        ACTION int64_t tweet(const std::<span class="hljs-built_in">string</span>&amp; tweetString) {
            int64_t result = <span class="hljs-number">0</span>;     
            <span class="hljs-keyword">if</span>(!is<span class="hljs-constructor">Admin()</span>){
                <span class="hljs-comment">// only owner is allowed to create tweets for this account.</span>
                result = -<span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tweetString.length<span class="hljs-literal">()</span> &gt; <span class="hljs-number">160</span>) {
                <span class="hljs-comment">// tweet contains more than 160 bytes.</span>
                result = -<span class="hljs-number">2</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>]</span>.timestamp = platon<span class="hljs-constructor">_timestamp()</span>;
                <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>]</span>.tweetString = tweetString;
                <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span> + <span class="hljs-number">1</span>;    
                result = <span class="hljs-number">0</span>; <span class="hljs-comment">// success.     </span>
            }
            return result;
        }

        CONST std::<span class="hljs-built_in">string</span> get<span class="hljs-constructor">Tweet(<span class="hljs-params">uint64_t</span> <span class="hljs-params">tweetId</span>)</span>{
            <span class="hljs-comment">// returns two values </span>
            std::<span class="hljs-built_in">string</span> tweetString = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">tweetId</span>]</span>.tweetString;
            uint64_t timestamp = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">tweetId</span>]</span>.timestamp;
            return tweetString;     
        }
    
        CONST std::<span class="hljs-built_in">string</span> get<span class="hljs-constructor">LatestTweet()</span> {
            <span class="hljs-comment">// returns three values.</span>
            std::<span class="hljs-built_in">string</span> tweetString = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>.<span class="hljs-identifier">self</span>() - <span class="hljs-number">1</span>]</span>.tweetString;
            uint64_t timestamp = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_tweets</span>.</span></span>self<span class="hljs-literal">()</span><span class="hljs-literal">[<span class="hljs-identifier">_numberOfTweets</span>.<span class="hljs-identifier">self</span>() - <span class="hljs-number">1</span>]</span>.timestamp;
            uint64_t numberOfTweets = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span>;
            return tweetString;     
        } 
        
        CONST Address get<span class="hljs-constructor">OwnerAddress()</span> {
            return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_adminAddress</span>.</span></span>self<span class="hljs-literal">()</span>;        
        }

        CONST uint64_t get<span class="hljs-constructor">NumberOfTweets()</span> {
            return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_numberOfTweets</span>.</span></span>self<span class="hljs-literal">()</span>;          
        }
        
        ACTION void admin<span class="hljs-constructor">RetrieveDonations(<span class="hljs-params">const</span> Address&amp; <span class="hljs-params">receiver</span>)</span> {
            <span class="hljs-keyword">if</span>(is<span class="hljs-constructor">Admin()</span>){
                Address caddr = platon<span class="hljs-constructor">_address()</span>;
                Energon e = platon<span class="hljs-constructor">_balance(<span class="hljs-params">caddr</span>)</span>;
                platon<span class="hljs-constructor">_transfer(<span class="hljs-params">receiver</span>, <span class="hljs-params">e</span>)</span>;
            }       
        }
        
        CONST Address caddr<span class="hljs-literal">()</span>{
            return platon<span class="hljs-constructor">_address()</span>;        
        }
    
        CONST std::<span class="hljs-built_in">string</span> caddr<span class="hljs-constructor">Balance(Address <span class="hljs-params">receiver</span>)</span>{
            <span class="hljs-comment">//Address caddr = platon_address();</span>
            Energon e = platon<span class="hljs-constructor">_balance(<span class="hljs-params">receiver</span>)</span>;
            return std::<span class="hljs-keyword">to</span><span class="hljs-constructor">_string(<span class="hljs-params">e</span>.Get()</span>);     
        }
            
        ACTION void admin<span class="hljs-constructor">DeleteAccount()</span>{
            <span class="hljs-keyword">if</span>(is<span class="hljs-constructor">Admin()</span>){
                <span class="hljs-comment">// this is a predefined function, it deletes theh contract and returns all funds to the owner.  </span>
                platon<span class="hljs-constructor">_destroy(<span class="hljs-params">_adminAddress</span>.<span class="hljs-params">self</span>()</span>);   
            }       
        }
};

<span class="hljs-constructor">PLATON_DISPATCH(TweetAccount,(<span class="hljs-params">init</span>)</span>(isAdmin)(tweet)(getTweet)(getLatestTweet)
(getOwnerAddress)(getNumberOfTweets)(adminRetrieveDonations)(adminDeleteAccount)
(caddr)(caddrBalance))
</code></pre>
<p>字节码</p>
<p><a href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Tweet_wasm.bin">查看字节码</a></p>
<p>字节大小： <code>30788</code> byte =&gt; 30.07 kb`</p>
<hr>
<h6><a class="anchor" aria-hidden="true" id="创建部署合约成本-1"></a><a href="#创建部署合约成本-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>创建&amp;部署合约成本</h6>
<p>PlatON-EVM</p>
<ul>
<li>Gas消耗: 257065</li>
<li>Gas单价: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>总成本:  1285325 <code>gVON</code>（0.001285325 <code>LAT</code>）</li>
</ul>
<p>以太坊</p>
<ul>
<li>Gas消耗: 621385</li>
<li>Gas单价: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>总成本:  3106925 <code>Gwei</code>（0.003106925 <code>ETH</code>）</li>
</ul>
<p>PlatON-WASM</p>
<ul>
<li>Gas消耗: 349713</li>
<li>Gas单价: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>总成本:  1748565 <code>gVON</code>（0.001748565 <code>LAT</code>）</li>
</ul>
<hr>
<h3><a class="anchor" aria-hidden="true" id="大型合约示例"></a><a href="#大型合约示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>大型合约示例</h3>
<h4><a class="anchor" aria-hidden="true" id="prc20标准token合约"></a><a href="#prc20标准token合约" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PRC20标准token合约</h4>
<p><strong>EVM示例代码</strong></p>
<p><a href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/token.sol">点击查看PRC20标准的智能合约</a></p>
<p>字节码</p>
<p><a href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Token_evm.bin">查看字节码</a></p>
<p>字节大小： <code>4557.5 byte =&gt; 4.45 kb</code></p>
<hr>
<p><strong>WASM示例代码</strong></p>
<pre><code class="hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;platon/platon.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> platon;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Token</span> {</span>
    <span class="hljs-keyword">public</span>:
        <span class="hljs-comment">// total amount of tokens</span>
        platon::StorageType&lt;<span class="hljs-string">"totalsupply"</span>_n, <span class="hljs-keyword">uint64_t</span>&gt; totalSupply;
    
    <span class="hljs-keyword">public</span>: <span class="hljs-comment">// event</span>
        <span class="hljs-comment">// define: _from, _to, _value</span>
        PLATON_EVENT2(Transfer, Address, Address, <span class="hljs-keyword">uint64_t</span>);
        <span class="hljs-comment">// define: _owner, _spender, _value</span>
        PLATON_EVENT2(Approval, Address, Address, <span class="hljs-keyword">uint64_t</span>);

    <span class="hljs-keyword">public</span>:
        <span class="hljs-comment">// @param _owner The address from which the balance will be retrieved</span>
        <span class="hljs-comment">// @return The balance.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">balanceOf</span><span class="hljs-params">(Address _owner)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @notice send '_value' token to `_to` from `msg.sender`</span>
        <span class="hljs-comment">// @param _to THe address of the recipient.</span>
        <span class="hljs-comment">// @param _value The amount of token to be transferred.</span>
        <span class="hljs-comment">// @return Whether the transfer was successful or not.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">transfer</span><span class="hljs-params">(Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @notice send `_value` token to `_to` from `_from` on the condition it is approved by `_from`</span>
        <span class="hljs-comment">// @param _from The address of the sender.</span>
        <span class="hljs-comment">// @param _to The address of the recepient.</span>
        <span class="hljs-comment">// @param _value The amount of token to be transferred.</span>
        <span class="hljs-comment">// @return Whether the transfer was successful or not.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">transferFrom</span><span class="hljs-params">(Address _from, Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @notice `msg.sender` approves `_spender` to spend `_value` tokens</span>
        <span class="hljs-comment">// @param _spender The address of the account able to transfer the tokens</span>
        <span class="hljs-comment">// @param _value The amount of tokens to be approved for transfer</span>
        <span class="hljs-comment">// @return Whether thee approval was successful or not.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">approve</span><span class="hljs-params">(Address _spender, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>= <span class="hljs-number">0</span>;

        <span class="hljs-comment">// @param _owner The address of the account owning tokens</span>
        <span class="hljs-comment">// @param _spender The address of the account able to transfer the tokens</span>
        <span class="hljs-comment">// @return Amount of remaining tokens allowed to spent.</span>
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">allowance</span><span class="hljs-params">(Address _owner, Address _spender)</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-comment">// You should inherit from StandardTOken or, for a token like you would want</span>
<span class="hljs-comment">// to deploy in something like MIst, see HumanStandardToken.cpp.</span>
<span class="hljs-comment">// (This implements ONLY the standard functions and NOTHING else.</span>
<span class="hljs-comment">// If you deploy this, you won't have anthing useful.)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StandardToken</span>:</span> <span class="hljs-keyword">public</span> Token
{
    <span class="hljs-keyword">protected</span>: 
        platon::StorageType&lt;<span class="hljs-string">"balances"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;Address, <span class="hljs-keyword">uint64_t</span>&gt;&gt; balances;
        platon::StorageType&lt;<span class="hljs-string">"allowed"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;Address, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;Address, <span class="hljs-keyword">uint64_t</span>&gt;&gt;&gt; allowed;

    <span class="hljs-keyword">public</span>:
        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">balanceOf</span><span class="hljs-params">(Address _owner)</span> </span>{
            <span class="hljs-keyword">return</span> balances.self()[_owner];     
        }

        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">transfer</span><span class="hljs-params">(Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span></span>{
            <span class="hljs-comment">// Default assumes totalSupply can't be over max(2^64 - 1)</span>
            <span class="hljs-comment">// If your token leaves out totalSupply and can issue more tokens as time goes on,</span>
            <span class="hljs-comment">// you need to check if it doesn't wrap.</span>
            <span class="hljs-comment">// Replace the if with this on instead.</span>
            Address sender = platon_caller();
            <span class="hljs-keyword">if</span> (balances.self()[sender] &gt;= _value &amp;&amp; _value &gt; <span class="hljs-number">0</span>) {
                balances.self()[sender] -= _value;
                balances.self()[_to] += _value;
                PLATON_EMIT_EVENT2(Transfer, sender, _to, _value);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;           
            }
        }

        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">transferFrom</span><span class="hljs-params">(Address _from, Address _to, <span class="hljs-keyword">uint64_t</span> _value)</span> </span>{
            <span class="hljs-comment">// same as above. Replace this line with the following if you want to protect against</span>
            <span class="hljs-comment">// wrapping uints.</span>
            Address sender = platon_caller();
            <span class="hljs-keyword">if</span>(balances.self()[_from] &gt;= _value 
                &amp;&amp; allowed.self()[_from][sender] &gt;= _value &amp;&amp; _value &gt; <span class="hljs-number">0</span>){
                balances.self()[_to] += _value;
                balances.self()[_from] -= _value;
                PLATON_EMIT_EVENT2(Transfer, _from, _to, _value);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;           
            }
        }

        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">approve</span><span class="hljs-params">(Address _spender, <span class="hljs-keyword">uint64_t</span> _value)</span></span>{
            Address sender = platon_caller();           
            allowed.self()[sender][_spender] = _value;
            PLATON_EMIT_EVENT2(Approval, sender, _spender, _value);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;        
        }

        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">allowance</span><span class="hljs-params">(Address _owner, Address _spender)</span></span>{
            <span class="hljs-keyword">return</span> allowed.self()[_owner][_spender];        
        }
};


CONTRACT LATToken: <span class="hljs-keyword">public</span> platon::Contract, <span class="hljs-keyword">public</span> StandardToken
{
    
    <span class="hljs-keyword">public</span>:
        platon::StorageType&lt;<span class="hljs-string">"name"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; name;        <span class="hljs-comment">// fancy name: eg PlatON Token</span>
        platon::StorageType&lt;<span class="hljs-string">"decimals"</span>_n, <span class="hljs-keyword">uint8_t</span>&gt; decimals;    <span class="hljs-comment">// HOw many decimals to show.</span>
        platon::StorageType&lt;<span class="hljs-string">"symbol"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; symbol;    <span class="hljs-comment">// An identifier: eg LTT</span>
        platon::StorageType&lt;<span class="hljs-string">"version"</span>_n, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; version;  <span class="hljs-comment">// 0.1 standard. Just an arbitrary versioning scheme.</span>

    <span class="hljs-keyword">public</span>:
        <span class="hljs-function">ACTION <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">uint64_t</span> _initialAmount, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; _tokenName,
            <span class="hljs-keyword">uint8_t</span> _decimalUnits, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; _tokenSymbol)</span>
        </span>{
            Address sender = platon_caller();
            balances.self()[sender] = _initialAmount;       <span class="hljs-comment">// Give the creator all initial tokens.</span>
            totalSupply.self() = _initialAmount;            <span class="hljs-comment">// Update total supply.</span>
            name.self() = _tokenName;                       <span class="hljs-comment">// Set the name for display purposes</span>
            decimals.self() = _decimalUnits;                <span class="hljs-comment">// Amount of decimals for display purposes</span>
            symbol.self() = _tokenSymbol;                   <span class="hljs-comment">// Set the symbol for display purposes.</span>
        }

        <span class="hljs-function">CONST <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> name.self();     
        }

        <span class="hljs-function">CONST <span class="hljs-keyword">uint8_t</span> <span class="hljs-title">getDecimals</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> decimals.self();     
        }

        <span class="hljs-function">CONST <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">getSymbol</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> symbol.self();       
        }

        <span class="hljs-function">CONST <span class="hljs-keyword">uint64_t</span> <span class="hljs-title">getTotalSupply</span><span class="hljs-params">()</span></span>{
            <span class="hljs-keyword">return</span> totalSupply.self();      
        }
        
        <span class="hljs-comment">// Approves and then calls the receiving contract.</span>
        <span class="hljs-function">ACTION <span class="hljs-keyword">bool</span> <span class="hljs-title">approveAndCall</span><span class="hljs-params">(Address _spender, <span class="hljs-keyword">uint64_t</span> _value, <span class="hljs-keyword">const</span> bytes&amp; _extraData)</span> </span>{
            Address sender = platon_caller();
            allowed.self()[sender][_spender] = _value;
            PLATON_EMIT_EVENT2(Approval, sender, _spender, _value);
            <span class="hljs-comment">// call the receiveApproval function on the contract you want to be notified. This </span>
            <span class="hljs-comment">// crafts the function signature manually so one doesn't have to include a contract </span>
            <span class="hljs-comment">// in here just for this.</span>
            <span class="hljs-comment">// define: receiveApproval(Address _from, uint64_t _value, Address _tokenContract, bytes&amp; _extraDaa)</span>
            <span class="hljs-comment">// it is assumed that when does this that the call should succeed.</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
};

PLATON_DISPATCH(LATToken,(init)(balanceOf)(<span class="hljs-built_in">transfer</span>)(transferFrom)(approve)(allowance)
(getName)(getDecimals)(getSymbol)(getTotalSupply)(approveAndCall))
</code></pre>
<p>字节码</p>
<p><a href="https://github.com/PlatONnetwork/docs/tree/master/website/translated_docs/zh-CN/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91.assets/Token_wasm.bin">查看字节码</a></p>
<p>字节大小： <code>36764 byte =&gt; 35.9 kb</code></p>
<hr>
<h6><a class="anchor" aria-hidden="true" id="创建部署合约成本-2"></a><a href="#创建部署合约成本-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>创建&amp;部署合约成本</h6>
<p>PlatON-EVM</p>
<ul>
<li>Gas消耗: 552823</li>
<li>Gas单价: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>总成本:  2764115 <code>gVON</code>（0.002764115 <code>LAT</code>）</li>
</ul>
<p>以太坊</p>
<ul>
<li>Gas消耗: 1282171</li>
<li>Gas单价: 5,000,000,000 (5 <code>Gwei</code>)</li>
<li>总成本:  6410855 <code>Gwei</code>（0.006410855 <code>ETH</code>）</li>
</ul>
<p>PlatON-WASM</p>
<ul>
<li>Gas消耗: 486274</li>
<li>Gas单价: 5,000,000,000 (5 <code>gVON</code>)</li>
<li>总成本:  2431370 <code>gVON</code>（0.00243137 <code>LAT</code>）</li>
</ul>
<hr>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/Wasm_Dev_Manual"><span class="arrow-prev">← </span><span>入门手册</span></a><a class="docs-next button" href="/docs/zh-CN/Wasm_Contract_Best_Practice"><span>最佳实践</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.platon.network/" class="nav-home"><img src="/docs/img/PlatON-logo2.svg" alt="PlatON" width="66" height="58"/></a><div><a href="https://www.platon.network/">PlatON network</a><a href="https://latticex.foundation/home">Lattice.Foundation</a><a href="https://forum.latticex.foundation/">Forum</a></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></section><section class="copyright">COPYRIGHT  © 2021 PLATON NETWORK.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c2ce4863993980eb049b661be250c773',
                indexName: 'platon',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>